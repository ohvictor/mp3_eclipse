/***************************************************************************//**
  @file		DAC.c
  @brief	
  @author	
  @date		
 ******************************************************************************/

/*******************************************************************************
 * INCLUDE HEADER FILES
 ******************************************************************************/

#include "../MCAL/gpio.h"
#include "MK64F12.h"
#include "hardware.h"
#include "DAC.h"

/*******************************************************************************
 * CONSTANT AND MACRO DEFINITIONS USING #DEFINE
 ******************************************************************************/

/*******************************************************************************
 * STATIC VARIABLES AND CONST VARIABLES WITH FILE LEVEL SCOPE
 ******************************************************************************/

static SIM_Type* sim_ptr = SIM;				// For clock enable

/*******************************************************************************
 *******************************************************************************
                        GLOBAL FUNCTION DEFINITIONS
 *******************************************************************************
 ******************************************************************************/

void DAC_init (DAC_n dac_n)
{
	DAC_Type * DACn;
	if (dac_n == DAC_0){
		sim_ptr->SCGC2 |= SIM_SCGC2_DAC0_MASK;	
		DACn = DAC0;
	}
	else{
		sim_ptr->SCGC2 |= SIM_SCGC2_DAC1_MASK;	
		DACn = DAC1;
	}

	DACn->C0 = DAC_C0_DACEN_MASK | DAC_C0_DACRFS_MASK | DAC_C0_DACTRGSEL_MASK;	
	DACn->C1 &= ~DAC_C1_DACBFEN_MASK;	
}
